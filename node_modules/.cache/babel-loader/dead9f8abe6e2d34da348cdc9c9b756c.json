{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\SecondYearsYouCode\\\\WORK\\\\react project\\\\wwtbam-part2-prod\\\\src\\\\game\\\\Play.js\",\n    _s = $RefreshSig$();\n\nimport './game.css';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Play = () => {\n  _s();\n\n  const [question, setQuestion] = useState(null);\n  const [questionNum, setQuestionNum] = useState(1);\n  const [participantReady, setParticipantReady] = useState(true);\n  const history = useHistory();\n\n  let handleClick = (answer, idQuestion) => {\n    let questionCount = questionNum;\n\n    if (questionCount < 15) {\n      // get question from db \n      axios.get(`${process.env.REACT_APP_URL_API}/question/getQuestion`).then(function (response) {\n        setQuestion(response.data);\n        setQuestionNum(questionCount + 1);\n      }).catch(function (err) {\n        console.log(err);\n      }); //   create round \n\n      let idGroup = localStorage.getItem(\"group_id\");\n      let id_participant = localStorage.getItem(\"idParticipant\");\n      const round = {\n        id_question: idQuestion,\n        id_participant: id_participant,\n        participant_answer: answer\n      };\n      axios.post(`${process.env.REACT_APP_URL_API}/round/createRound/${idGroup}`, round).then(res => {});\n    } else {\n      let idGroup = localStorage.getItem(\"group_id\");\n      let token = localStorage.getItem(\"token\"); // check if we have 4 palyer ...\n\n      axios.post(`${process.env.REACT_APP_URL_API}/winner/add/${idGroup}`).then(function (response) {\n        localStorage.setItem('idWinner', response.data.id_participant);\n        localStorage.setItem('idGift', response.data.gift);\n      }).catch(function (err) {\n        console.log(err);\n      });\n      history.push('/winner');\n    }\n  };\n\n  useEffect(() => {\n    let idGroup = localStorage.getItem(\"group_id\"); // check if we have 4 palyer ...\n\n    axios.get(`${process.env.REACT_APP_URL_API}/round/createRound/${idGroup}`).then(function (response) {\n      if (!response.data.error) {\n        setParticipantReady(false);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    }); // console.log(numQuestion);\n\n    axios.get(`${process.env.REACT_APP_URL_API}/question/getQuestion`).then(function (response) {\n      setQuestion(response.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"play\",\n    children: participantReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"endGame\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You need 4 player to Start the game ! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container \",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [questionNum, \" /15\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: question && question.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-around\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                handleClick(question.answer, question._id);\n              },\n              className: \"btn btn-light \",\n              children: [question && question.answer, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                handleClick(question && question.false_choices[0], question._id);\n              },\n              className: \"btn btn-light\",\n              children: question && question.false_choices[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-around\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                handleClick(question && question.false_choices[1], question._id);\n              },\n              className: \"btn btn-light\",\n              children: question && question.false_choices[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                handleClick(question && question.false_choices[2], question._id);\n              },\n              className: \"btn btn-light\",\n              children: question && question.false_choices[2]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Play, \"wQmLtgQ9Zzjh6yA4a8cpfprLvnA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Play;\nexport default Play;\n\nvar _c;\n\n$RefreshReg$(_c, \"Play\");","map":{"version":3,"sources":["C:/Users/admin/Desktop/SecondYearsYouCode/WORK/react project/wwtbam-part2-prod/src/game/Play.js"],"names":["useEffect","useState","axios","useHistory","Play","question","setQuestion","questionNum","setQuestionNum","participantReady","setParticipantReady","history","handleClick","answer","idQuestion","questionCount","get","process","env","REACT_APP_URL_API","then","response","data","catch","err","console","log","idGroup","localStorage","getItem","id_participant","round","id_question","participant_answer","post","res","token","setItem","gift","push","error","_id","false_choices"],"mappings":"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","sourcesContent":["import './game.css';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Play = () => {\r\n\r\n    const [question , setQuestion] = useState(null);\r\n    const [questionNum , setQuestionNum] = useState(1);\r\n    \r\n\r\n    const [participantReady , setParticipantReady] = useState(true);\r\n\r\n    const history = useHistory()\r\n\r\n    let handleClick = (answer,idQuestion)=>{\r\n\r\n        let questionCount = questionNum\r\n\r\n        if (questionCount < 15) {\r\n            \r\n                    // get question from db \r\n\r\n                    axios.get(`${process.env.REACT_APP_URL_API}/question/getQuestion`)\r\n                    .then(function (response) {\r\n\r\n                        setQuestion(response.data)\r\n                        setQuestionNum( questionCount + 1) \r\n\r\n                    }).catch(function (err) {\r\n                    console.log(err);\r\n                });\r\n\r\n\r\n\r\n                //   create round \r\n\r\n                let idGroup = localStorage.getItem(\"group_id\");\r\n                let id_participant = localStorage.getItem(\"idParticipant\");\r\n\r\n\r\n\r\n\r\n                const round = { \r\n                    id_question : idQuestion ,\r\n                    id_participant : id_participant, \r\n                    participant_answer :answer\r\n\r\n                    };\r\n\r\n            \r\n\r\n                axios.post(`${process.env.REACT_APP_URL_API}/round/createRound/${idGroup}`, round)\r\n                .then(res => {\r\n\r\n                \r\n                \r\n                \r\n                })\r\n            \r\n        }else{\r\n\r\n        let idGroup = localStorage.getItem(\"group_id\");\r\n        let token = localStorage.getItem(\"token\");\r\n\r\n\r\n        \r\n\r\n\r\n        // check if we have 4 palyer ...\r\n\r\n        axios.post(`${process.env.REACT_APP_URL_API}/winner/add/${idGroup}`)\r\n        .then(function (response) {\r\n\r\n\r\n\r\n\r\n        localStorage.setItem('idWinner' , response.data.id_participant)\r\n        localStorage.setItem('idGift' , response.data.gift)\r\n        \r\n        \r\n         \r\n            \r\n          \r\n            \r\n        \r\n        }).catch(function (err) {\r\n          console.log(err);\r\n      });\r\n\r\n        \r\n\r\n           \r\n\r\n            history.push('/winner')\r\n\r\n        }\r\n\r\n\r\n\r\n \r\n\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        let idGroup = localStorage.getItem(\"group_id\");\r\n\r\n\r\n        // check if we have 4 palyer ...\r\n\r\n        axios.get(`${process.env.REACT_APP_URL_API}/round/createRound/${idGroup}`)\r\n        .then(function (response) {\r\n\r\n\r\n         if(!response.data.error){\r\n            setParticipantReady(false)\r\n         }\r\n         \r\n        \r\n        \r\n         \r\n            \r\n          \r\n            \r\n        \r\n        }).catch(function (err) {\r\n          console.log(err);\r\n      });\r\n\r\n        \r\n       \r\n        // console.log(numQuestion);\r\n\r\n        axios.get(`${process.env.REACT_APP_URL_API}/question/getQuestion`)\r\n        .then(function (response) {\r\n        \r\n         \r\n            setQuestion(response.data)\r\n          \r\n            \r\n        \r\n        }).catch(function (err) {\r\n          console.log(err);\r\n      });\r\n      \r\n      },[])\r\n\r\n\r\n\r\n\r\n    return ( \r\n        <div className=\"play\">\r\n            \r\n            {participantReady ? (\r\n                 <div className=\"endGame\">\r\n                 <h1>You need 4 player to Start the game ! </h1>\r\n             </div>\r\n            ):(\r\n                <>\r\n                    <div className=\"container \">\r\n                <p>{questionNum} /15</p>\r\n            {/* <h3>He is Light Yagami. He is the main character of ….. anime.</h3> */}\r\n\r\n            <h3>{ question && question.question}</h3>\r\n\r\n            \r\n\r\n                <div className=\"row justify-content-around\">\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button type=\"button\" onClick={()=>{ handleClick(question.answer,question._id) }}   className=\"btn btn-light \">{ question && question.answer} </button>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button type=\"button\"  onClick={()=>{ handleClick(question && question.false_choices[0],question._id) }}  className=\"btn btn-light\">{ question && question.false_choices[0]}</button>\r\n                    \r\n                    </div>\r\n                </div>\r\n                <div className=\"row justify-content-around\">\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button type=\"button\"  onClick={()=>{ handleClick(question && question.false_choices[1],question._id) }}  className=\"btn btn-light\">{ question && question.false_choices[1]}</button>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button type=\"button\"  onClick={()=>{ handleClick(question && question.false_choices[2],question._id) }}  className=\"btn btn-light\">{ question && question.false_choices[2]}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                </>\r\n            )\r\n\r\n\r\n            \r\n            }\r\n\r\n           \r\n\r\n\r\n       \r\n        \r\n            \r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Play;"]},"metadata":{},"sourceType":"module"}